databaseChangeLog:
- changeSet:
    id: 1677252884290-1
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: first_name
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: last_name
            type: TEXT
        tableName: authors
- changeSet:
    id: 1677252884290-2
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: book_id
            type: INT
        - column:
            constraints:
              nullable: false
            name: genre_id
            type: INT
        tableName: book_genre
- changeSet:
    id: 1677252884290-3
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: book_id
            type: INT
        - column:
            constraints:
              nullable: false
            name: user_id
            type: INT
        - column:
            name: start_date
            type: date
        - column:
            name: end_date
            type: date
        - column:
            name: status_pay
            type: TEXT
        tableName: book_user
- changeSet:
    id: 1677252884290-4
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: isbn
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: name
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: years
            type: TEXT
        - column:
            name: image
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: publisher_id
            type: INT
        - column:
            constraints:
              nullable: false
            name: count
            type: INT
        tableName: books
- changeSet:
    id: 1677252884290-5
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: book_id
            type: INT
        - column:
            constraints:
              nullable: false
            name: author_id
            type: INT
        tableName: books_authors
- changeSet:
    id: 1677252884290-6
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: book_id
            type: INT
        - column:
            constraints:
              nullable: false
            name: count
            type: INT
        tableName: current_books
- changeSet:
    id: 1677252884290-7
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: name
            type: TEXT
        tableName: genres
- changeSet:
    id: 1677252884290-8
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: name
            type: TEXT
        - column:
            name: address
            type: TEXT
        - column:
            name: phone
            type: TEXT
        - column:
            name: city
            type: TEXT
        tableName: publishers
- changeSet:
    id: 1677252884290-9
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: name
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: status
            type: TEXT
        tableName: roles
- changeSet:
    id: 1677252884290-10
    author: volodymyr.tymchuk
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: number
            type: TEXT
        - column:
            name: password
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: first_name
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: last_name
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: date_of_birth
            type: date
        - column:
            constraints:
              nullable: false
            name: phone
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: status
            type: TEXT
        - column:
            name: photo
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: role_id
            type: INT
        - column:
            name: locale
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: email
            type: TEXT
        tableName: users
- changeSet:
    id: 1677252884290-21
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: book_id
        indexName: book_genre_fk0
        tableName: book_genre
- changeSet:
    id: 1677252884290-22
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: genre_id
        indexName: book_genre_fk1
        tableName: book_genre
- changeSet:
    id: 1677252884290-23
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: book_id
        indexName: book_user_fk0
        tableName: book_user
- changeSet:
    id: 1677252884290-24
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: user_id
        indexName: book_user_fk1
        tableName: book_user
- changeSet:
    id: 1677252884290-25
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: book_id
        indexName: books_authors_fk0
        tableName: books_authors
- changeSet:
    id: 1677252884290-26
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: author_id
        indexName: books_authors_fk1
        tableName: books_authors
- changeSet:
    id: 1677252884290-27
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: book_id
        indexName: current_books_fk0
        tableName: current_books
- changeSet:
    id: 1677252884290-28
    author: volodymyr.tymchuk
    changes:
    - createIndex:
        columns:
        - column:
            name: role_id
        indexName: users_fk0
        tableName: users
- changeSet:
    id: 1677252884290-29
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: book_id
        baseTableName: book_genre
        constraintName: book_genre_fk0
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: books
        validate: true
- changeSet:
    id: 1677252884290-30
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: genre_id
        baseTableName: book_genre
        constraintName: book_genre_fk1
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: genres
        validate: true
- changeSet:
    id: 1677252884290-31
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: book_id
        baseTableName: book_user
        constraintName: book_user_fk0
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: books
        validate: true
- changeSet:
    id: 1677252884290-32
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_id
        baseTableName: book_user
        constraintName: book_user_fk1
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: users
        validate: true
- changeSet:
    id: 1677252884290-33
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: book_id
        baseTableName: books_authors
        constraintName: books_authors_fk0
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: books
        validate: true
- changeSet:
    id: 1677252884290-34
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: author_id
        baseTableName: books_authors
        constraintName: books_authors_fk1
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: authors
        validate: true
- changeSet:
    id: 1677252884290-35
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: book_id
        baseTableName: current_books
        constraintName: current_books_fk0
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: books
        validate: true
- changeSet:
    id: 1677252884290-36
    author: volodymyr.tymchuk
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: role_id
        baseTableName: users
        constraintName: users_fk0
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: RESTRICT
        referencedColumnNames: id
        referencedTableName: roles
        validate: true
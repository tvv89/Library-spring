databaseChangeLog:
  - changeSet:
      id: 1677252884290-1
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
           - tableExists:
              tableName: authors
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: first_name
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: last_name
                  type: TEXT
            tableName: authors
  - changeSet:
      id: 1677252884290-2
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: book_genre
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: book_id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: genre_id
                  type: INT
            tableName: book_genre
  - changeSet:
      id: 1677252884290-3
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: book_user
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: book_id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: INT
              - column:
                  name: start_date
                  type: date
              - column:
                  name: end_date
                  type: date
              - column:
                  name: status_pay
                  type: TEXT
            tableName: book_user
  - changeSet:
      id: 1677252884290-4
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: books
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: isbn
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: years
                  type: TEXT
              - column:
                  name: image
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: publisher_id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: count
                  type: INT
            tableName: books
  - changeSet:
      id: 1677252884290-5
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: books_authors
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: book_id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: author_id
                  type: INT
            tableName: books_authors
  - changeSet:
      id: 1677252884290-6
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: current_books
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: book_id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: count
                  type: INT
            tableName: current_books
  - changeSet:
      id: 1677252884290-7
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: genres
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: TEXT
            tableName: genres
  - changeSet:
      id: 1677252884290-8
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: publishers
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: TEXT
              - column:
                  name: address
                  type: TEXT
              - column:
                  name: phone
                  type: TEXT
              - column:
                  name: city
                  type: TEXT
            tableName: publishers
  - changeSet:
      id: 1677252884290-9
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: roles
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: status
                  type: TEXT
            tableName: roles
  - changeSet:
      id: 1677252884290-10
      author: volodymyr.tymchuk
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: users
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                  name: id
                  type: INT
              - column:
                  constraints:
                    nullable: false
                  name: number
                  type: TEXT
              - column:
                  name: password
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: first_name
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: last_name
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: date_of_birth
                  type: date
              - column:
                  constraints:
                    nullable: false
                  name: phone
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: status
                  type: TEXT
              - column:
                  name: photo
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: role_id
                  type: INT
              - column:
                  name: locale
                  type: TEXT
              - column:
                  constraints:
                    nullable: false
                  name: email
                  type: TEXT
            tableName: users
  - changeSet:
      id: 1677252884290-11
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: first_name
                  name: first_name
                  type: STRING
              - column:
                  header: last_name
                  name: last_name
                  type: STRING
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/authors.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: authors
  - changeSet:
      id: 1677252884290-12
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: book_id
                  name: book_id
                  type: NUMERIC
              - column:
                  header: genre_id
                  name: genre_id
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/book_genre.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: book_genre
  - changeSet:
      id: 1677252884290-13
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: book_id
                  name: book_id
                  type: NUMERIC
              - column:
                  header: user_id
                  name: user_id
                  type: NUMERIC
              - column:
                  header: start_date
                  name: start_date
                  type: DATE
              - column:
                  header: end_date
                  name: end_date
                  type: DATE
              - column:
                  header: status_pay
                  name: status_pay
                  type: STRING
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/book_user.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: book_user
  - changeSet:
      id: 1677252884290-14
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: isbn
                  name: isbn
                  type: STRING
              - column:
                  header: name
                  name: name
                  type: STRING
              - column:
                  header: years
                  name: years
                  type: STRING
              - column:
                  header: image
                  name: image
                  type: STRING
              - column:
                  header: publisher_id
                  name: publisher_id
                  type: NUMERIC
              - column:
                  header: count
                  name: count
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/books.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: books
  - changeSet:
      id: 1677252884290-15
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: book_id
                  name: book_id
                  type: NUMERIC
              - column:
                  header: author_id
                  name: author_id
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/books_authors.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: books_authors
  - changeSet:
      id: 1677252884290-16
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: book_id
                  name: book_id
                  type: NUMERIC
              - column:
                  header: count
                  name: count
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/current_books.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: current_books
  - changeSet:
      id: 1677252884290-17
      author: volodymyr.tymchuk
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: NUMERIC
              - column:
                  header: name
                  name: name
                  type: STRING
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: classpath:db/changelog/data/genres.csv
            quotchar: '"'
            separator: ','
            relativeToChangelogFile: true
            tableName: genres